{"ast":null,"code":"const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:4000';\nexport function authHeader() {\n  const t = localStorage.getItem('token');\n  return t ? {\n    Authorization: `Bearer ${t}`\n  } : {};\n}\nexport async function api(path, opts = {}) {\n  const res = await fetch(`${API_URL}${path}`, {\n    headers: {\n      'Content-Type': 'application/json',\n      ...authHeader(),\n      ...(opts.headers || {})\n    },\n    ...opts\n  });\n  if (!res.ok) {\n    var _await$res$json$catch;\n    const msg = ((_await$res$json$catch = await res.json().catch(() => ({}))) === null || _await$res$json$catch === void 0 ? void 0 : _await$res$json$catch.message) || res.statusText;\n    throw new Error(msg);\n  }\n  return res.json();\n}","map":{"version":3,"names":["API_URL","process","env","REACT_APP_API_URL","authHeader","t","localStorage","getItem","Authorization","api","path","opts","res","fetch","headers","ok","_await$res$json$catch","msg","json","catch","message","statusText","Error"],"sources":["C:/Users/user/Desktop/timewatch-clone/client/src/api.js"],"sourcesContent":["const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:4000';\r\n\r\nexport function authHeader() {\r\n  const t = localStorage.getItem('token');\r\n  return t ? { Authorization: `Bearer ${t}` } : {};\r\n}\r\n\r\nexport async function api(path, opts = {}) {\r\n  const res = await fetch(`${API_URL}${path}`, {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      ...authHeader(),\r\n      ...(opts.headers || {})\r\n    },\r\n    ...opts\r\n  });\r\n  if (!res.ok) {\r\n    const msg = (await res.json().catch(() => ({})))?.message || res.statusText;\r\n    throw new Error(msg);\r\n  }\r\n  return res.json();\r\n}\r\n"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;AAExE,OAAO,SAASC,UAAUA,CAAA,EAAG;EAC3B,MAAMC,CAAC,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EACvC,OAAOF,CAAC,GAAG;IAAEG,aAAa,EAAE,UAAUH,CAAC;EAAG,CAAC,GAAG,CAAC,CAAC;AAClD;AAEA,OAAO,eAAeI,GAAGA,CAACC,IAAI,EAAEC,IAAI,GAAG,CAAC,CAAC,EAAE;EACzC,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGb,OAAO,GAAGU,IAAI,EAAE,EAAE;IAC3CI,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClC,GAAGV,UAAU,CAAC,CAAC;MACf,IAAIO,IAAI,CAACG,OAAO,IAAI,CAAC,CAAC;IACxB,CAAC;IACD,GAAGH;EACL,CAAC,CAAC;EACF,IAAI,CAACC,GAAG,CAACG,EAAE,EAAE;IAAA,IAAAC,qBAAA;IACX,MAAMC,GAAG,GAAG,EAAAD,qBAAA,GAAC,MAAMJ,GAAG,CAACM,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,cAAAH,qBAAA,uBAAnCA,qBAAA,CAAsCI,OAAO,KAAIR,GAAG,CAACS,UAAU;IAC3E,MAAM,IAAIC,KAAK,CAACL,GAAG,CAAC;EACtB;EACA,OAAOL,GAAG,CAACM,IAAI,CAAC,CAAC;AACnB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}