{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\timewatch-clone\\\\client\\\\src\\\\pages\\\\Kiosk.js\",\n  _s = $RefreshSig$();\n// client/src/pages/Kiosk.js\nimport React, { useEffect, useMemo, useState } from 'react';\nimport QRCode from 'qrcode.react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Kiosk() {\n  _s();\n  const [location, setLocation] = useState(null);\n  const [mode, setMode] = useState('in'); // 'in' | 'out' | 'break-start' | 'break-end'\n  const [now, setNow] = useState(new Date());\n  useEffect(() => {\n    const t = setInterval(() => setNow(new Date()), 1000);\n    return () => clearInterval(t);\n  }, []);\n  useEffect(() => {\n    (async () => {\n      const res = await fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:4000'}/api/locations`);\n      const data = await res.json();\n      setLocation(data[0]);\n    })();\n  }, []);\n  const url = useMemo(() => {\n    const base = window.location.origin;\n    const params = new URLSearchParams({\n      loc: (location === null || location === void 0 ? void 0 : location.id) || 'main',\n      mode\n    });\n    return `${base}/qr?${params.toString()}`;\n  }, [location, mode]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex flex-col items-center justify-center bg-slate-50 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-4xl bg-white rounded-3xl shadow p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between flex-wrap gap-3 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl font-bold\",\n          children: [\"\\u05E2\\u05DE\\u05D3\\u05EA \\u05E1\\u05E8\\u05D9\\u05E7\\u05D4 \\u2014 \", (location === null || location === void 0 ? void 0 : location.name) || 'Loading…']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xl tabular-nums\",\n          children: now.toLocaleTimeString()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap items-center justify-center gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 rounded-2xl border bg-slate-50\",\n          children: /*#__PURE__*/_jsxDEV(QRCode, {\n            value: url,\n            size: 360,\n            includeMargin: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-medium mb-2\",\n            children: \"\\u05D4\\u05D5\\u05E8\\u05D0\\u05D5\\u05EA \\u05DC\\u05E2\\u05D5\\u05D1\\u05D3\\u05D9\\u05DD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n            className: \"list-decimal pr-6 space-y-1 text-slate-700\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"\\u05E4\\u05EA\\u05D7\\u05D5 \\u05D0\\u05EA \\u05D4\\u05DE\\u05E6\\u05DC\\u05DE\\u05D4 \\u05D1\\u05D8\\u05DC\\u05E4\\u05D5\\u05DF (iPhone/Android).\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"\\u05DB\\u05D5\\u05D5\\u05E0\\u05D5 \\u05D0\\u05DC \\u05E7\\u05D5\\u05D3 \\u05D4\\u05BEQR \\u05D5\\u05E1\\u05DB\\u05D9\\u05DE\\u05D5 \\u05DC\\u05E9\\u05D9\\u05EA\\u05D5\\u05E3 \\u05DE\\u05D9\\u05E7\\u05D5\\u05DD.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u05D1\\u05E6\\u05E2\\u05D5 \", modeLabel(mode), \" \\u2014 \\u05D7\\u05D9\\u05D9\\u05D1\\u05D9\\u05DD \\u05DC\\u05D4\\u05D9\\u05D5\\u05EA \\u05D1\\u05EA\\u05D5\\u05DA \\u05D4\\u05E8\\u05D3\\u05D9\\u05D5\\u05E1 \\u05E9\\u05DC \\u05D4\\u05DE\\u05E9\\u05E8\\u05D3.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-medium mb-1\",\n              children: \"\\u05DE\\u05E6\\u05D1 \\u05E1\\u05E8\\u05D9\\u05E7\\u05D4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-2\",\n              children: [['in', 'Clock In'], ['out', 'Clock Out'], ['break-start', 'Start Break'], ['break-end', 'End Break']].map(([m, label]) => /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `px-3 py-2 rounded-xl border ${mode === m ? 'bg-black text-white' : 'bg-white'}`,\n                onClick: () => setMode(m),\n                children: label\n              }, m, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6 text-sm text-slate-500\",\n            children: [\"\\u05DE\\u05D9\\u05E7\\u05D5\\u05DD \\u05DE\\u05D0\\u05D5\\u05DE\\u05EA \\u05D1\\u05E9\\u05E8\\u05EA \\u2014 \\u05E0\\u05D3\\u05E8\\u05E9 \\u05DC\\u05D4\\u05D9\\u05D5\\u05EA \\u05D1\\u05EA\\u05D5\\u05DA \", (location === null || location === void 0 ? void 0 : location.radiusMeters) || '-', \" \\u05DE\\u05F3 \\u05DE\\u05BE\", (location === null || location === void 0 ? void 0 : location.name) || '-', \".\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n}\n_s(Kiosk, \"c7LcXyx791g3ekfT/Sxu8VYfOk4=\");\n_c = Kiosk;\nfunction modeLabel(m) {\n  switch (m) {\n    case 'in':\n      return 'Clock In';\n    case 'out':\n      return 'Clock Out';\n    case 'break-start':\n      return 'Start Break';\n    case 'break-end':\n      return 'End Break';\n    default:\n      return m;\n  }\n}\nvar _c;\n$RefreshReg$(_c, \"Kiosk\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","QRCode","jsxDEV","_jsxDEV","Kiosk","_s","location","setLocation","mode","setMode","now","setNow","Date","t","setInterval","clearInterval","res","fetch","process","env","REACT_APP_API_URL","data","json","url","base","window","origin","params","URLSearchParams","loc","id","toString","className","children","name","fileName","_jsxFileName","lineNumber","columnNumber","toLocaleTimeString","value","size","includeMargin","modeLabel","map","m","label","onClick","radiusMeters","_c","$RefreshReg$"],"sources":["C:/Users/user/Desktop/timewatch-clone/client/src/pages/Kiosk.js"],"sourcesContent":["// client/src/pages/Kiosk.js\r\nimport React, { useEffect, useMemo, useState } from 'react';\r\nimport QRCode from 'qrcode.react';\r\n\r\nexport default function Kiosk() {\r\n  const [location, setLocation] = useState(null);\r\n  const [mode, setMode] = useState('in'); // 'in' | 'out' | 'break-start' | 'break-end'\r\n  const [now, setNow] = useState(new Date());\r\n\r\n  useEffect(() => {\r\n    const t = setInterval(() => setNow(new Date()), 1000);\r\n    return () => clearInterval(t);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const res = await fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:4000'}/api/locations`);\r\n      const data = await res.json();\r\n      setLocation(data[0]);\r\n    })();\r\n  }, []);\r\n\r\n  const url = useMemo(() => {\r\n    const base = window.location.origin;\r\n    const params = new URLSearchParams({ loc: location?.id || 'main', mode });\r\n    return `${base}/qr?${params.toString()}`;\r\n  }, [location, mode]);\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex flex-col items-center justify-center bg-slate-50 p-4\">\r\n      <div className=\"w-full max-w-4xl bg-white rounded-3xl shadow p-6\">\r\n        <div className=\"flex items-center justify-between flex-wrap gap-3 mb-6\">\r\n          <div className=\"text-2xl font-bold\">עמדת סריקה — {location?.name || 'Loading…'}</div>\r\n          <div className=\"text-xl tabular-nums\">{now.toLocaleTimeString()}</div>\r\n        </div>\r\n\r\n        <div className=\"flex flex-wrap items-center justify-center gap-6\">\r\n          <div className=\"p-4 rounded-2xl border bg-slate-50\">\r\n            <QRCode value={url} size={360} includeMargin />\r\n          </div>\r\n\r\n          <div className=\"max-w-sm\">\r\n            <div className=\"font-medium mb-2\">הוראות לעובדים</div>\r\n            <ol className=\"list-decimal pr-6 space-y-1 text-slate-700\">\r\n              <li>פתחו את המצלמה בטלפון (iPhone/Android).</li>\r\n              <li>כוונו אל קוד ה־QR וסכימו לשיתוף מיקום.</li>\r\n              <li>בצעו {modeLabel(mode)} — חייבים להיות בתוך הרדיוס של המשרד.</li>\r\n            </ol>\r\n\r\n            <div className=\"mt-6\">\r\n              <div className=\"font-medium mb-1\">מצב סריקה</div>\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                {[\r\n                  ['in', 'Clock In'],\r\n                  ['out', 'Clock Out'],\r\n                  ['break-start', 'Start Break'],\r\n                  ['break-end', 'End Break']\r\n                ].map(([m,label]) => (\r\n                  <button\r\n                    key={m}\r\n                    className={`px-3 py-2 rounded-xl border ${mode === m ? 'bg-black text-white' : 'bg-white'}`}\r\n                    onClick={() => setMode(m)}\r\n                  >{label}</button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mt-6 text-sm text-slate-500\">\r\n              מיקום מאומת בשרת — נדרש להיות בתוך {location?.radiusMeters || '-'} מ׳ מ־{location?.name || '-'}.\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction modeLabel(m) {\r\n  switch (m) {\r\n    case 'in': return 'Clock In';\r\n    case 'out': return 'Clock Out';\r\n    case 'break-start': return 'Start Break';\r\n    case 'break-end': return 'End Break';\r\n    default: return m;\r\n  }\r\n}\r\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,OAAO,EAAEC,QAAQ,QAAQ,OAAO;AAC3D,OAAOC,MAAM,MAAM,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElC,eAAe,SAASC,KAAKA,CAAA,EAAG;EAAAC,EAAA;EAC9B,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAACQ,IAAI,EAAEC,OAAO,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;EACxC,MAAM,CAACU,GAAG,EAAEC,MAAM,CAAC,GAAGX,QAAQ,CAAC,IAAIY,IAAI,CAAC,CAAC,CAAC;EAE1Cd,SAAS,CAAC,MAAM;IACd,MAAMe,CAAC,GAAGC,WAAW,CAAC,MAAMH,MAAM,CAAC,IAAIC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC;IACrD,OAAO,MAAMG,aAAa,CAACF,CAAC,CAAC;EAC/B,CAAC,EAAE,EAAE,CAAC;EAENf,SAAS,CAAC,MAAM;IACd,CAAC,YAAY;MACX,MAAMkB,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB,gBAAgB,CAAC;MACpG,MAAMC,IAAI,GAAG,MAAML,GAAG,CAACM,IAAI,CAAC,CAAC;MAC7Bf,WAAW,CAACc,IAAI,CAAC,CAAC,CAAC,CAAC;IACtB,CAAC,EAAE,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,MAAME,GAAG,GAAGxB,OAAO,CAAC,MAAM;IACxB,MAAMyB,IAAI,GAAGC,MAAM,CAACnB,QAAQ,CAACoB,MAAM;IACnC,MAAMC,MAAM,GAAG,IAAIC,eAAe,CAAC;MAAEC,GAAG,EAAE,CAAAvB,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEwB,EAAE,KAAI,MAAM;MAAEtB;IAAK,CAAC,CAAC;IACzE,OAAO,GAAGgB,IAAI,OAAOG,MAAM,CAACI,QAAQ,CAAC,CAAC,EAAE;EAC1C,CAAC,EAAE,CAACzB,QAAQ,EAAEE,IAAI,CAAC,CAAC;EAEpB,oBACEL,OAAA;IAAK6B,SAAS,EAAC,wEAAwE;IAAAC,QAAA,eACrF9B,OAAA;MAAK6B,SAAS,EAAC,kDAAkD;MAAAC,QAAA,gBAC/D9B,OAAA;QAAK6B,SAAS,EAAC,wDAAwD;QAAAC,QAAA,gBACrE9B,OAAA;UAAK6B,SAAS,EAAC,oBAAoB;UAAAC,QAAA,GAAC,iEAAa,EAAC,CAAA3B,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAE4B,IAAI,KAAI,UAAU;QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACrFnC,OAAA;UAAK6B,SAAS,EAAC,sBAAsB;UAAAC,QAAA,EAAEvB,GAAG,CAAC6B,kBAAkB,CAAC;QAAC;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnE,CAAC,eAENnC,OAAA;QAAK6B,SAAS,EAAC,kDAAkD;QAAAC,QAAA,gBAC/D9B,OAAA;UAAK6B,SAAS,EAAC,oCAAoC;UAAAC,QAAA,eACjD9B,OAAA,CAACF,MAAM;YAACuC,KAAK,EAAEjB,GAAI;YAACkB,IAAI,EAAE,GAAI;YAACC,aAAa;UAAA;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5C,CAAC,eAENnC,OAAA;UAAK6B,SAAS,EAAC,UAAU;UAAAC,QAAA,gBACvB9B,OAAA;YAAK6B,SAAS,EAAC,kBAAkB;YAAAC,QAAA,EAAC;UAAc;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACtDnC,OAAA;YAAI6B,SAAS,EAAC,4CAA4C;YAAAC,QAAA,gBACxD9B,OAAA;cAAA8B,QAAA,EAAI;YAAuC;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAChDnC,OAAA;cAAA8B,QAAA,EAAI;YAAsC;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC/CnC,OAAA;cAAA8B,QAAA,GAAI,2BAAK,EAACU,SAAS,CAACnC,IAAI,CAAC,EAAC,wLAAqC;YAAA;cAAA2B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClE,CAAC,eAELnC,OAAA;YAAK6B,SAAS,EAAC,MAAM;YAAAC,QAAA,gBACnB9B,OAAA;cAAK6B,SAAS,EAAC,kBAAkB;cAAAC,QAAA,EAAC;YAAS;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACjDnC,OAAA;cAAK6B,SAAS,EAAC,sBAAsB;cAAAC,QAAA,EAClC,CACC,CAAC,IAAI,EAAE,UAAU,CAAC,EAClB,CAAC,KAAK,EAAE,WAAW,CAAC,EACpB,CAAC,aAAa,EAAE,aAAa,CAAC,EAC9B,CAAC,WAAW,EAAE,WAAW,CAAC,CAC3B,CAACW,GAAG,CAAC,CAAC,CAACC,CAAC,EAACC,KAAK,CAAC,kBACd3C,OAAA;gBAEE6B,SAAS,EAAE,+BAA+BxB,IAAI,KAAKqC,CAAC,GAAG,qBAAqB,GAAG,UAAU,EAAG;gBAC5FE,OAAO,EAAEA,CAAA,KAAMtC,OAAO,CAACoC,CAAC,CAAE;gBAAAZ,QAAA,EAC1Ba;cAAK,GAHAD,CAAC;gBAAAV,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAGQ,CACjB;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAENnC,OAAA;YAAK6B,SAAS,EAAC,6BAA6B;YAAAC,QAAA,GAAC,iLACR,EAAC,CAAA3B,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAE0C,YAAY,KAAI,GAAG,EAAC,4BAAM,EAAC,CAAA1C,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAE4B,IAAI,KAAI,GAAG,EAAC,GACjG;UAAA;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACjC,EAAA,CAvEuBD,KAAK;AAAA6C,EAAA,GAAL7C,KAAK;AAyE7B,SAASuC,SAASA,CAACE,CAAC,EAAE;EACpB,QAAQA,CAAC;IACP,KAAK,IAAI;MAAE,OAAO,UAAU;IAC5B,KAAK,KAAK;MAAE,OAAO,WAAW;IAC9B,KAAK,aAAa;MAAE,OAAO,aAAa;IACxC,KAAK,WAAW;MAAE,OAAO,WAAW;IACpC;MAAS,OAAOA,CAAC;EACnB;AACF;AAAC,IAAAI,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}