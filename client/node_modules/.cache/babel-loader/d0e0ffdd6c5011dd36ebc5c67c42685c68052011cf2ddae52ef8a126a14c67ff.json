{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\timewatch-clone\\\\client\\\\src\\\\pages\\\\Dashboard.js\",\n  _s = $RefreshSig$();\n// client/src/pages/Dashboard.js\nimport React, { useEffect, useState, useMemo } from 'react';\nimport { api } from '../api';\nimport Toast from '../components/Toast';\nimport Modal from '../components/Modal';\nimport jsPDF from 'jspdf';\nimport 'jspdf-autotable';\nimport * as XLSX from 'xlsx';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction fmtMin(n) {\n  const h = Math.floor(n / 60);\n  const m = n % 60;\n  return `${h}ש ${m}ד`;\n}\nfunction todayISO() {\n  const d = new Date();\n  const off = d.getTimezoneOffset();\n  const z = new Date(d.getTime() - off * 60000);\n  return z.toISOString().slice(0, 10);\n}\nasync function getGeo() {\n  if (!('geolocation' in navigator)) return null;\n  return new Promise(resolve => {\n    navigator.geolocation.getCurrentPosition(pos => resolve({\n      lat: pos.coords.latitude,\n      lng: pos.coords.longitude\n    }), () => resolve(null), {\n      enableHighAccuracy: false,\n      timeout: 3000,\n      maximumAge: 60000\n    });\n  });\n}\nexport default function Dashboard() {\n  _s();\n  var _me$permissions2, _me$permissions$expor, _me$permissions3, _me$permissions4, _me$permissions5;\n  const [me, setMe] = useState(null);\n  const [today, setToday] = useState(null);\n  const [err, setErr] = useState('');\n  const [range, setRange] = useState({\n    from: todayISO(),\n    to: todayISO()\n  });\n  const [rows, setRows] = useState([]);\n\n  // פילטר עובד (לאדמין/מורשה)\n  const [users, setUsers] = useState([]);\n  const [selectedUser, setSelectedUser] = useState('');\n\n  // modal עריכה\n  const [editOpen, setEditOpen] = useState(false);\n  const [editRowState, setEditRowState] = useState(null);\n  const [editForm, setEditForm] = useState({\n    clockIn: '',\n    clockOut: '',\n    notes: ''\n  });\n  const [busy, setBusy] = useState(false);\n  const [toast, setToast] = useState({\n    show: false,\n    type: 'success',\n    title: '',\n    message: ''\n  });\n  const showToast = (type, title, message = '') => setToast({\n    show: true,\n    type,\n    title,\n    message\n  });\n  const closeToast = () => setToast(t => ({\n    ...t,\n    show: false\n  }));\n  const [clock, setClock] = useState(new Date());\n  useEffect(() => {\n    const t = setInterval(() => setClock(new Date()), 1000);\n    return () => clearInterval(t);\n  }, []);\n  const timeText = useMemo(() => clock.toLocaleTimeString(), [clock]);\n  useEffect(() => {\n    (async _m$permissions => {\n      const m = await api('/api/auth/me');\n      setMe(m);\n      if (m !== null && m !== void 0 && (_m$permissions = m.permissions) !== null && _m$permissions !== void 0 && _m$permissions.attendanceReadAll) {\n        try {\n          const list = await api('/api/admin/users');\n          setUsers(list || []);\n        } catch {}\n      }\n      await refreshToday();\n      await loadReportBy(range.from, range.to, selectedUser);\n    })().catch(e => setErr(e.message));\n  }, []);\n  async function refreshToday() {\n    setErr('');\n    const d = todayISO();\n    const data = await api(`/api/attendance/report?from=${d}&to=${d}`);\n    // ✅ בחר רשומה פתוחה אם קיימת, אחרת האחרונה (העדכנית)\n    let t = null;\n    if (Array.isArray(data) && data.length) {\n      t = data.find(r => r.clockIn && !r.clockOut) || data[data.length - 1];\n    }\n    setToday(t || null);\n  }\n  async function doPost(path, okMsg, errMsg) {\n    if (busy) return;\n    setBusy(true);\n    setErr('');\n    try {\n      const geo = await getGeo();\n      await api(path, {\n        method: 'POST',\n        body: JSON.stringify(geo || {})\n      });\n      await refreshToday();\n      showToast('success', okMsg);\n    } catch (e) {\n      setErr(e.message);\n      showToast('error', errMsg || e.message);\n    } finally {\n      setBusy(false);\n    }\n  }\n  async function loadReport(e) {\n    var _e$preventDefault;\n    e === null || e === void 0 ? void 0 : (_e$preventDefault = e.preventDefault) === null || _e$preventDefault === void 0 ? void 0 : _e$preventDefault.call(e);\n    await loadReportBy(range.from, range.to, selectedUser);\n  }\n  async function loadReportBy(from, to, userId) {\n    setErr('');\n    try {\n      const params = new URLSearchParams({\n        from,\n        to\n      });\n      if (userId) params.set('userId', userId);\n      const data = await api(`/api/attendance/report?${params.toString()}`);\n      setRows(data);\n    } catch (e) {\n      setErr(e.message);\n    }\n  }\n  function logout() {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    window.location.href = '/login';\n  }\n\n  // ===== Exporters =====\n  function exportCSV() {\n    const header = ['date', 'clockIn', 'clockOut', 'regularMinutes', 'overtimeMinutes', 'totalMinutes'];\n    const lines = [header.join(',')].concat(rows.map(r => {\n      var _r$regularMinutes, _r$overtimeMinutes, _r$totalMinutes;\n      return [r.date, r.clockIn ? new Date(r.clockIn).toLocaleTimeString() : '', r.clockOut ? new Date(r.clockOut).toLocaleTimeString() : '', (_r$regularMinutes = r.regularMinutes) !== null && _r$regularMinutes !== void 0 ? _r$regularMinutes : '', (_r$overtimeMinutes = r.overtimeMinutes) !== null && _r$overtimeMinutes !== void 0 ? _r$overtimeMinutes : '', (_r$totalMinutes = r.totalMinutes) !== null && _r$totalMinutes !== void 0 ? _r$totalMinutes : ''].join(',');\n    }));\n    const blob = new Blob([lines.join('\\n')], {\n      type: 'text/csv;charset=utf-8;'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `attendance_${range.from}_${range.to}.csv`;\n    document.body.appendChild(a);\n    a.click();\n    a.remove();\n    URL.revokeObjectURL(url);\n    showToast('success', 'CSV נוצר בהצלחה');\n  }\n  function exportXLSX() {\n    const data = rows.map(r => ({\n      Date: r.date,\n      ClockIn: r.clockIn ? new Date(r.clockIn).toLocaleTimeString() : '',\n      ClockOut: r.clockOut ? new Date(r.clockOut).toLocaleTimeString() : '',\n      Regular: r.regularMinutes ? fmtMin(r.regularMinutes) : '',\n      Overtime: r.overtimeMinutes ? fmtMin(r.overtimeMinutes) : '',\n      Total: r.totalMinutes ? fmtMin(r.totalMinutes) : ''\n    }));\n    const ws = XLSX.utils.json_to_sheet(data);\n    const wb = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(wb, ws, 'Report');\n    XLSX.writeFile(wb, `attendance_${range.from}_${range.to}.xlsx`);\n    showToast('success', 'Excel נוצר בהצלחה');\n  }\n  function exportPDF() {\n    const doc = new jsPDF({\n      orientation: 'p',\n      unit: 'pt',\n      format: 'a4'\n    });\n    doc.setFontSize(14);\n    doc.text(`Attendance Report ${range.from} - ${range.to}`, 40, 40);\n    const table = rows.map(r => [r.date, r.clockIn ? new Date(r.clockIn).toLocaleTimeString() : '-', r.clockOut ? new Date(r.clockOut).toLocaleTimeString() : '-', r.regularMinutes ? fmtMin(r.regularMinutes) : '-', r.overtimeMinutes ? fmtMin(r.overtimeMinutes) : '-', r.totalMinutes ? fmtMin(r.totalMinutes) : '-']);\n    doc.autoTable({\n      head: [['Date', 'Clock In', 'Clock Out', 'Regular', 'Overtime', 'Total']],\n      body: table,\n      startY: 60\n    });\n    const y = doc.lastAutoTable.finalY + 30;\n    doc.setFontSize(12);\n    doc.text('Approved by:', 40, y);\n    doc.line(120, y + 2, 300, y + 2);\n    doc.text('(Signature)', 120, y + 18);\n    doc.text(`Generated: ${new Date().toLocaleString()}`, 40, y + 40);\n    doc.save(`attendance_${range.from}_${range.to}.pdf`);\n    showToast('success', 'PDF נשמר');\n  }\n\n  // ===== Edit modal =====\n  function openEdit(r) {\n    var _me$permissions;\n    if (!(me !== null && me !== void 0 && (_me$permissions = me.permissions) !== null && _me$permissions !== void 0 && _me$permissions.attendanceEdit)) return;\n    setEditRowState(r);\n    setEditForm({\n      clockIn: r.clockIn ? new Date(r.clockIn).toISOString().slice(0, 16) : '',\n      clockOut: r.clockOut ? new Date(r.clockOut).toISOString().slice(0, 16) : '',\n      notes: r.notes || ''\n    });\n    setEditOpen(true);\n  }\n  async function saveEdit() {\n    try {\n      const body = {};\n      if (editForm.clockIn) body.clockIn = new Date(editForm.clockIn).toISOString();\n      if (editForm.clockOut) body.clockOut = new Date(editForm.clockOut).toISOString();\n      body.notes = editForm.notes || '';\n      await api(`/api/attendance/${editRowState._id}`, {\n        method: 'PUT',\n        body: JSON.stringify(body)\n      });\n      setEditOpen(false);\n      await loadReportBy(range.from, range.to, selectedUser);\n      await refreshToday();\n      showToast('success', 'עודכן בהצלחה');\n    } catch (e) {\n      showToast('error', e.message);\n    }\n  }\n  const inShift = !!(today !== null && today !== void 0 && today.clockIn) && !(today !== null && today !== void 0 && today.clockOut);\n  const hasOpenBreak = !!((today === null || today === void 0 ? void 0 : today.breaks) || []).find(b => b.start && !b.end);\n  const isAdmin = (me === null || me === void 0 ? void 0 : me.role) === 'admin' || (me === null || me === void 0 ? void 0 : (_me$permissions2 = me.permissions) === null || _me$permissions2 === void 0 ? void 0 : _me$permissions2.manageUsers);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen p-4\",\n    children: [/*#__PURE__*/_jsxDEV(Toast, {\n      show: toast.show,\n      type: toast.type,\n      title: toast.title,\n      message: toast.message,\n      onClose: closeToast\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      open: editOpen,\n      title: \"\\u05E2\\u05E8\\u05D9\\u05DB\\u05EA \\u05E8\\u05E9\\u05D5\\u05DE\\u05D4\",\n      onClose: () => setEditOpen(false),\n      actions: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-4 py-2 rounded-xl border bg-white\",\n          onClick: () => setEditOpen(false),\n          children: \"\\u05D1\\u05D9\\u05D8\\u05D5\\u05DC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-4 py-2 rounded-xl bg-black text-white\",\n          onClick: saveEdit,\n          children: \"\\u05E9\\u05DE\\u05D9\\u05E8\\u05D4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm mb-1\",\n          children: \"Clock In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"datetime-local\",\n          className: \"border rounded-xl px-3 py-2 w-full\",\n          value: editForm.clockIn,\n          onChange: e => setEditForm(f => ({\n            ...f,\n            clockIn: e.target.value\n          }))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm mb-1\",\n          children: \"Clock Out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"datetime-local\",\n          className: \"border rounded-xl px-3 py-2 w-full\",\n          value: editForm.clockOut,\n          onChange: e => setEditForm(f => ({\n            ...f,\n            clockOut: e.target.value\n          }))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm mb-1\",\n          children: \"\\u05D4\\u05E2\\u05E8\\u05D5\\u05EA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"border rounded-xl px-3 py-2 w-full\",\n          rows: 3,\n          value: editForm.notes,\n          onChange: e => setEditForm(f => ({\n            ...f,\n            notes: e.target.value\n          }))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"flex items-center justify-between mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/logo.png\",\n          alt: \"Costoro\",\n          className: \"w-10 h-10 rounded-md\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-semibold text-lg\",\n            children: [\"\\u05E9\\u05DC\\u05D5\\u05DD \", (me === null || me === void 0 ? void 0 : me.name) || '']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-slate-500\",\n            children: me === null || me === void 0 ? void 0 : me.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-3\",\n        children: [isAdmin && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/admin/users\",\n            className: \"px-3 py-2 rounded-xl bg-white border shadow text-sm\",\n            children: \"\\u05E0\\u05D9\\u05D4\\u05D5\\u05DC \\u05DE\\u05E9\\u05EA\\u05DE\\u05E9\\u05D9\\u05DD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/kiosk\",\n            className: \"px-3 py-2 rounded-xl bg-white border shadow text-sm\",\n            children: \"\\u05E2\\u05DE\\u05D3\\u05EA \\u05E1\\u05E8\\u05D9\\u05E7\\u05D4 (QR)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `px-3 py-1 rounded-xl text-white text-sm ${hasOpenBreak ? 'bg-amber-500' : inShift ? 'bg-emerald-600' : 'bg-slate-400'}`,\n          children: hasOpenBreak ? 'בהפסקה' : inShift ? 'במשמרת' : 'לא במשמרת'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-3 py-1 rounded-xl bg-white shadow text-sm\",\n          children: timeText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: logout,\n          className: \"px-4 py-2 rounded-xl border bg-white hover:bg-slate-50\",\n          children: \"\\u05D4\\u05EA\\u05E0\\u05EA\\u05E7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this), err && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 text-rose-600\",\n      children: err\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"grid md:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow p-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold\",\n            children: \"\\u05D3\\u05D5\\u05D7 \\u05DC\\u05E4\\u05D9 \\u05EA\\u05D0\\u05E8\\u05D9\\u05DB\\u05D9\\u05DD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this), ((_me$permissions$expor = me === null || me === void 0 ? void 0 : (_me$permissions3 = me.permissions) === null || _me$permissions3 === void 0 ? void 0 : _me$permissions3.exportReports) !== null && _me$permissions$expor !== void 0 ? _me$permissions$expor : true) && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-3 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: exportCSV,\n              className: \"underline\",\n              children: \"CSV\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: exportXLSX,\n              className: \"underline\",\n              children: \"Excel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: exportPDF,\n              className: \"underline\",\n              children: \"PDF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: loadReport,\n          className: \"flex flex-wrap items-end gap-3 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm mb-1\",\n              children: \"\\u05DE\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              className: \"border rounded-xl px-3 py-2\",\n              value: range.from,\n              onChange: e => setRange(v => ({\n                ...v,\n                from: e.target.value\n              })),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm mb-1\",\n              children: \"\\u05E2\\u05D3 \\u05EA\\u05D0\\u05E8\\u05D9\\u05DA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              className: \"border rounded-xl px-3 py-2\",\n              value: range.to,\n              onChange: e => setRange(v => ({\n                ...v,\n                to: e.target.value\n              })),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this), (me === null || me === void 0 ? void 0 : (_me$permissions4 = me.permissions) === null || _me$permissions4 === void 0 ? void 0 : _me$permissions4.attendanceReadAll) && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm mb-1\",\n              children: \"\\u05E2\\u05D5\\u05D1\\u05D3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"border rounded-xl px-3 py-2 min-w-[220px]\",\n              value: selectedUser,\n              onChange: e => setSelectedUser(e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"\\u2014 \\u05DB\\u05DC\\u05D5\\u05DC/\\u05D4 \\u05D0\\u05EA \\u05E2\\u05E6\\u05DE\\u05D9 \\u2014\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 19\n              }, this), users.map(u => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: u._id || u.id,\n                children: [u.name, \" \\xB7 \", u.department || 'ללא מחלקה']\n              }, u._id || u.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            type: \"submit\",\n            disabled: busy,\n            children: \"\\u05D8\\u05E2\\u05DF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"min-w-full text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"text-left border-b\",\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-2\",\n                  children: \"\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-2\",\n                  children: \"Clock In\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-2\",\n                  children: \"Clock Out\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-2\",\n                  children: \"\\u05E8\\u05D2\\u05D9\\u05DC\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-2\",\n                  children: \"\\u05E0\\u05D5\\u05E1\\u05E4\\u05D5\\u05EA\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-2\",\n                  children: \"\\u05E1\\u05D4\\u05F4\\u05DB\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 19\n                }, this), (me === null || me === void 0 ? void 0 : (_me$permissions5 = me.permissions) === null || _me$permissions5 === void 0 ? void 0 : _me$permissions5.attendanceEdit) && /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 55\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: [rows.map(r => {\n                var _me$permissions6;\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"border-b\",\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-2\",\n                    children: r.date\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 264,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-2\",\n                    children: r.clockIn ? new Date(r.clockIn).toLocaleTimeString() : '-'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 265,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-2\",\n                    children: r.clockOut ? new Date(r.clockOut).toLocaleTimeString() : '-'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 266,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-2\",\n                    children: r.regularMinutes ? fmtMin(r.regularMinutes) : '-'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-2\",\n                    children: r.overtimeMinutes ? fmtMin(r.overtimeMinutes) : '-'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 268,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-2\",\n                    children: r.totalMinutes ? fmtMin(r.totalMinutes) : '-'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 269,\n                    columnNumber: 21\n                  }, this), (me === null || me === void 0 ? void 0 : (_me$permissions6 = me.permissions) === null || _me$permissions6 === void 0 ? void 0 : _me$permissions6.attendanceEdit) && /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-2\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"px-3 py-1 rounded-xl border\",\n                      onClick: () => openEdit(r),\n                      children: \"\\u05E2\\u05E8\\u05D5\\u05DA\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 272,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 271,\n                    columnNumber: 23\n                  }, this)]\n                }, r._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 19\n                }, this);\n              }), !rows.length && /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-4 text-slate-400\",\n                  colSpan: 7,\n                  children: \"\\u05D0\\u05D9\\u05DF \\u05E0\\u05EA\\u05D5\\u05E0\\u05D9\\u05DD \\u05DC\\u05EA\\u05E7\\u05D5\\u05E4\\u05D4 \\u05D6\\u05D5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 38\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 34\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow p-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold\",\n            children: \"\\u05D4\\u05D9\\u05D5\\u05DD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-slate-500\",\n            children: inShift ? 'במשמרת פעילה' : 'לא במשמרת'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2 flex-wrap mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            disabled: busy || inShift,\n            onClick: () => doPost('/api/attendance/clockin', 'Clock In בוצע!'),\n            children: \"Clock In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            disabled: busy || !inShift,\n            onClick: () => doPost('/api/attendance/clockout', 'Clock Out בוצע!'),\n            children: \"Clock Out\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            disabled: busy || !inShift || hasOpenBreak,\n            onClick: () => doPost('/api/attendance/break/start', 'הפסקה התחילה'),\n            children: \"Start Break\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            disabled: busy || !inShift || !hasOpenBreak,\n            onClick: () => doPost('/api/attendance/break/end', 'הפסקה הסתיימה'),\n            children: \"End Break\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Clock In:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 18\n            }, this), \" \", today !== null && today !== void 0 && today.clockIn ? new Date(today.clockIn).toLocaleTimeString() : '-']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Clock Out:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 18\n            }, this), \" \", today !== null && today !== void 0 && today.clockOut ? new Date(today.clockOut).toLocaleTimeString() : '-']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"\\u05E1\\u05D4\\u05F4\\u05DB:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 18\n            }, this), \" \", today !== null && today !== void 0 && today.totalMinutes ? fmtMin(today.totalMinutes) : '-']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"\\u05E8\\u05D2\\u05D9\\u05DC:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 18\n            }, this), \" \", today !== null && today !== void 0 && today.regularMinutes ? fmtMin(today.regularMinutes) : '-']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"\\u05E0\\u05D5\\u05E1\\u05E4\\u05D5\\u05EA:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 18\n            }, this), \" \", today !== null && today !== void 0 && today.overtimeMinutes ? fmtMin(today.overtimeMinutes) : '-']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"\\u05D4\\u05E4\\u05E1\\u05E7\\u05D5\\u05EA:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-disc pr-5\",\n              children: ((today === null || today === void 0 ? void 0 : today.breaks) || []).map((b, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [b.start ? new Date(b.start).toLocaleTimeString() : '-', \" \\u2192 \", b.end ? new Date(b.end).toLocaleTimeString() : '—']\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `.btn{background:black;color:white;border-radius:0.75rem;padding:0.6rem 1rem}.btn[disabled]{opacity:.4;cursor:not-allowed}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 147,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"DqMSGwSgLb47TknwMoNS7Ld7V2k=\");\n_c = Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","useMemo","api","Toast","Modal","jsPDF","XLSX","jsxDEV","_jsxDEV","Fragment","_Fragment","fmtMin","n","h","Math","floor","m","todayISO","d","Date","off","getTimezoneOffset","z","getTime","toISOString","slice","getGeo","navigator","Promise","resolve","geolocation","getCurrentPosition","pos","lat","coords","latitude","lng","longitude","enableHighAccuracy","timeout","maximumAge","Dashboard","_s","_me$permissions2","_me$permissions$expor","_me$permissions3","_me$permissions4","_me$permissions5","me","setMe","today","setToday","err","setErr","range","setRange","from","to","rows","setRows","users","setUsers","selectedUser","setSelectedUser","editOpen","setEditOpen","editRowState","setEditRowState","editForm","setEditForm","clockIn","clockOut","notes","busy","setBusy","toast","setToast","show","type","title","message","showToast","closeToast","t","clock","setClock","setInterval","clearInterval","timeText","toLocaleTimeString","_m$permissions","permissions","attendanceReadAll","list","refreshToday","loadReportBy","catch","e","data","Array","isArray","length","find","r","doPost","path","okMsg","errMsg","geo","method","body","JSON","stringify","loadReport","_e$preventDefault","preventDefault","call","userId","params","URLSearchParams","set","toString","logout","localStorage","removeItem","window","location","href","exportCSV","header","lines","join","concat","map","_r$regularMinutes","_r$overtimeMinutes","_r$totalMinutes","date","regularMinutes","overtimeMinutes","totalMinutes","blob","Blob","url","URL","createObjectURL","a","document","createElement","download","appendChild","click","remove","revokeObjectURL","exportXLSX","ClockIn","ClockOut","Regular","Overtime","Total","ws","utils","json_to_sheet","wb","book_new","book_append_sheet","writeFile","exportPDF","doc","orientation","unit","format","setFontSize","text","table","autoTable","head","startY","y","lastAutoTable","finalY","line","toLocaleString","save","openEdit","_me$permissions","attendanceEdit","saveEdit","_id","inShift","hasOpenBreak","breaks","b","start","end","isAdmin","role","manageUsers","className","children","onClose","fileName","_jsxFileName","lineNumber","columnNumber","open","actions","onClick","value","onChange","f","target","src","alt","name","email","exportReports","onSubmit","v","required","u","id","department","disabled","_me$permissions6","colSpan","i","_c","$RefreshReg$"],"sources":["C:/Users/user/Desktop/timewatch-clone/client/src/pages/Dashboard.js"],"sourcesContent":["// client/src/pages/Dashboard.js\nimport React, { useEffect, useState, useMemo } from 'react';\nimport { api } from '../api';\nimport Toast from '../components/Toast';\nimport Modal from '../components/Modal';\nimport jsPDF from 'jspdf';\nimport 'jspdf-autotable';\nimport * as XLSX from 'xlsx';\n\nfunction fmtMin(n){ const h=Math.floor(n/60); const m=n%60; return `${h}ש ${m}ד`; }\nfunction todayISO(){ const d=new Date(); const off=d.getTimezoneOffset(); const z=new Date(d.getTime()-off*60000); return z.toISOString().slice(0,10); }\nasync function getGeo(){ if(!('geolocation' in navigator)) return null;\n  return new Promise(resolve=>{ navigator.geolocation.getCurrentPosition(\n    pos=>resolve({lat:pos.coords.latitude,lng:pos.coords.longitude}),\n    ()=>resolve(null), { enableHighAccuracy:false, timeout:3000, maximumAge:60000 }\n  );});\n}\n\nexport default function Dashboard(){\n  const [me,setMe]=useState(null);\n  const [today,setToday]=useState(null);\n  const [err,setErr]=useState('');\n  const [range,setRange]=useState({ from: todayISO(), to: todayISO() });\n  const [rows,setRows]=useState([]);\n\n  // פילטר עובד (לאדמין/מורשה)\n  const [users,setUsers]=useState([]);\n  const [selectedUser,setSelectedUser]=useState('');\n\n  // modal עריכה\n  const [editOpen,setEditOpen]=useState(false);\n  const [editRowState,setEditRowState]=useState(null);\n  const [editForm,setEditForm]=useState({ clockIn:'', clockOut:'', notes:'' });\n\n  const [busy,setBusy]=useState(false);\n  const [toast,setToast]=useState({ show:false, type:'success', title:'', message:'' });\n  const showToast=(type,title,message='')=>setToast({ show:true, type, title, message });\n  const closeToast=()=>setToast(t=>({ ...t, show:false }));\n\n  const [clock,setClock]=useState(new Date());\n  useEffect(()=>{ const t=setInterval(()=>setClock(new Date()),1000); return ()=>clearInterval(t); },[]);\n  const timeText=useMemo(()=>clock.toLocaleTimeString(),[clock]);\n\n  useEffect(()=>{ (async()=>{\n      const m=await api('/api/auth/me'); setMe(m);\n\n      if (m?.permissions?.attendanceReadAll) {\n        try { const list = await api('/api/admin/users'); setUsers(list || []); } catch {}\n      }\n      await refreshToday();\n      await loadReportBy(range.from, range.to, selectedUser);\n  })().catch(e=>setErr(e.message)); },[]);\n\n  async function refreshToday(){\n    setErr('');\n    const d=todayISO();\n    const data=await api(`/api/attendance/report?from=${d}&to=${d}`);\n    // ✅ בחר רשומה פתוחה אם קיימת, אחרת האחרונה (העדכנית)\n    let t = null;\n    if (Array.isArray(data) && data.length) {\n      t = data.find(r => r.clockIn && !r.clockOut) || data[data.length - 1];\n    }\n    setToday(t || null);\n  }\n\n  async function doPost(path, okMsg, errMsg){\n    if (busy) return; setBusy(true); setErr('');\n    try{\n      const geo = await getGeo();\n      await api(path, { method:'POST', body: JSON.stringify(geo || {}) });\n      await refreshToday();\n      showToast('success', okMsg);\n    }catch(e){ setErr(e.message); showToast('error', errMsg || e.message); }\n    finally{ setBusy(false); }\n  }\n\n  async function loadReport(e){ e?.preventDefault?.(); await loadReportBy(range.from, range.to, selectedUser); }\n\n  async function loadReportBy(from,to,userId){\n    setErr('');\n    try{\n      const params = new URLSearchParams({ from, to });\n      if (userId) params.set('userId', userId);\n      const data=await api(`/api/attendance/report?${params.toString()}`);\n      setRows(data);\n    }catch(e){ setErr(e.message); }\n  }\n\n  function logout(){\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    window.location.href='/login';\n  }\n\n  // ===== Exporters =====\n  function exportCSV(){\n    const header=['date','clockIn','clockOut','regularMinutes','overtimeMinutes','totalMinutes'];\n    const lines=[header.join(',')].concat(\n      rows.map(r=>[r.date, r.clockIn?new Date(r.clockIn).toLocaleTimeString():'', r.clockOut?new Date(r.clockOut).toLocaleTimeString():'', r.regularMinutes??'', r.overtimeMinutes??'', r.totalMinutes??''].join(','))\n    );\n    const blob=new Blob([lines.join('\\n')],{type:'text/csv;charset=utf-8;'}); const url=URL.createObjectURL(blob);\n    const a=document.createElement('a'); a.href=url; a.download=`attendance_${range.from}_${range.to}.csv`; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);\n    showToast('success','CSV נוצר בהצלחה');\n  }\n  function exportXLSX(){\n    const data=rows.map(r=>({Date:r.date, ClockIn:r.clockIn?new Date(r.clockIn).toLocaleTimeString():'', ClockOut:r.clockOut?new Date(r.clockOut).toLocaleTimeString():'', Regular:r.regularMinutes?fmtMin(r.regularMinutes):'', Overtime:r.overtimeMinutes?fmtMin(r.overtimeMinutes):'', Total:r.totalMinutes?fmtMin(r.totalMinutes):''}));\n    const ws=XLSX.utils.json_to_sheet(data); const wb=XLSX.utils.book_new(); XLSX.utils.book_append_sheet(wb,ws,'Report'); XLSX.writeFile(wb,`attendance_${range.from}_${range.to}.xlsx`); showToast('success','Excel נוצר בהצלחה');\n  }\n  function exportPDF(){\n    const doc=new jsPDF({orientation:'p',unit:'pt',format:'a4'}); doc.setFontSize(14); doc.text(`Attendance Report ${range.from} - ${range.to}`,40,40);\n    const table=rows.map(r=>[r.date, r.clockIn?new Date(r.clockIn).toLocaleTimeString():'-', r.clockOut?new Date(r.clockOut).toLocaleTimeString():'-', r.regularMinutes?fmtMin(r.regularMinutes):'-', r.overtimeMinutes?fmtMin(r.overtimeMinutes):'-', r.totalMinutes?fmtMin(r.totalMinutes):'-']);\n    doc.autoTable({ head:[['Date','Clock In','Clock Out','Regular','Overtime','Total']], body:table, startY:60 });\n    const y=doc.lastAutoTable.finalY+30; doc.setFontSize(12); doc.text('Approved by:',40,y); doc.line(120,y+2,300,y+2); doc.text('(Signature)',120,y+18); doc.text(`Generated: ${new Date().toLocaleString()}`,40,y+40);\n    doc.save(`attendance_${range.from}_${range.to}.pdf`); showToast('success','PDF נשמר');\n  }\n\n  // ===== Edit modal =====\n  function openEdit(r){\n    if (!me?.permissions?.attendanceEdit) return;\n    setEditRowState(r);\n    setEditForm({\n      clockIn: r.clockIn ? new Date(r.clockIn).toISOString().slice(0,16) : '',\n      clockOut: r.clockOut ? new Date(r.clockOut).toISOString().slice(0,16) : '',\n      notes: r.notes || ''\n    });\n    setEditOpen(true);\n  }\n  async function saveEdit(){\n    try{\n      const body={};\n      if (editForm.clockIn) body.clockIn = new Date(editForm.clockIn).toISOString();\n      if (editForm.clockOut) body.clockOut = new Date(editForm.clockOut).toISOString();\n      body.notes = editForm.notes || '';\n      await api(`/api/attendance/${editRowState._id}`, { method:'PUT', body: JSON.stringify(body) });\n      setEditOpen(false);\n      await loadReportBy(range.from, range.to, selectedUser);\n      await refreshToday();\n      showToast('success','עודכן בהצלחה');\n    }catch(e){ showToast('error', e.message); }\n  }\n\n  const inShift=!!today?.clockIn && !today?.clockOut;\n  const hasOpenBreak=!!(today?.breaks||[]).find(b=>b.start && !b.end);\n  const isAdmin = me?.role === 'admin' || me?.permissions?.manageUsers;\n\n  return (\n    <div className=\"min-h-screen p-4\">\n      <Toast show={toast.show} type={toast.type} title={toast.title} message={toast.message} onClose={closeToast} />\n\n      {/* Modal עריכה */}\n      <Modal\n        open={editOpen}\n        title=\"עריכת רשומה\"\n        onClose={()=>setEditOpen(false)}\n        actions={\n          <>\n            <button className=\"px-4 py-2 rounded-xl border bg-white\" onClick={()=>setEditOpen(false)}>ביטול</button>\n            <button className=\"px-4 py-2 rounded-xl bg-black text-white\" onClick={saveEdit}>שמירה</button>\n          </>\n        }\n      >\n        <div>\n          <label className=\"block text-sm mb-1\">Clock In</label>\n          <input type=\"datetime-local\" className=\"border rounded-xl px-3 py-2 w-full\"\n                 value={editForm.clockIn} onChange={e=>setEditForm(f=>({...f,clockIn:e.target.value}))}/>\n        </div>\n        <div>\n          <label className=\"block text-sm mb-1\">Clock Out</label>\n          <input type=\"datetime-local\" className=\"border rounded-xl px-3 py-2 w-full\"\n                 value={editForm.clockOut} onChange={e=>setEditForm(f=>({...f,clockOut:e.target.value}))}/>\n        </div>\n        <div>\n          <label className=\"block text-sm mb-1\">הערות</label>\n          <textarea className=\"border rounded-xl px-3 py-2 w-full\" rows={3}\n                    value={editForm.notes} onChange={e=>setEditForm(f=>({...f,notes:e.target.value}))}/>\n        </div>\n      </Modal>\n\n      <header className=\"flex items-center justify-between mb-6\">\n        <div className=\"flex items-center gap-3\">\n          <img src=\"/logo.png\" alt=\"Costoro\" className=\"w-10 h-10 rounded-md\" />\n          <div>\n            <div className=\"font-semibold text-lg\">שלום {me?.name || ''}</div>\n            <div className=\"text-sm text-slate-500\">{me?.email}</div>\n          </div>\n        </div>\n\n        <div className=\"flex items-center gap-3\">\n  {isAdmin && (\n    <>\n      <a href=\"/admin/users\" className=\"px-3 py-2 rounded-xl bg-white border shadow text-sm\">ניהול משתמשים</a>\n      <a href=\"/kiosk\" className=\"px-3 py-2 rounded-xl bg-white border shadow text-sm\">עמדת סריקה (QR)</a>\n    </>\n  )}\n\n          <div className={`px-3 py-1 rounded-xl text-white text-sm ${hasOpenBreak ? 'bg-amber-500' : inShift ? 'bg-emerald-600' : 'bg-slate-400'}`}>\n            {hasOpenBreak ? 'בהפסקה' : inShift ? 'במשמרת' : 'לא במשמרת'}\n          </div>\n          <div className=\"px-3 py-1 rounded-xl bg-white shadow text-sm\">{timeText}</div>\n          <button onClick={logout} className=\"px-4 py-2 rounded-xl border bg-white hover:bg-slate-50\">התנתק</button>\n        </div>\n      </header>\n\n      {err && <div className=\"mb-4 text-rose-600\">{err}</div>}\n\n      <main className=\"grid md:grid-cols-2 gap-6\">\n        {/* דוחות */}\n        <div className=\"bg-white rounded-2xl shadow p-5\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <h2 className=\"text-xl font-semibold\">דוח לפי תאריכים</h2>\n            {(me?.permissions?.exportReports ?? true) && (\n              <div className=\"flex gap-3 text-sm\">\n                <button onClick={exportCSV} className=\"underline\">CSV</button>\n                <button onClick={exportXLSX} className=\"underline\">Excel</button>\n                <button onClick={exportPDF} className=\"underline\">PDF</button>\n              </div>\n            )}\n          </div>\n\n          <form onSubmit={loadReport} className=\"flex flex-wrap items-end gap-3 mb-4\">\n            <div>\n              <label className=\"block text-sm mb-1\">מתאריך</label>\n              <input type=\"date\" className=\"border rounded-xl px-3 py-2\" value={range.from} onChange={(e)=>setRange(v=>({...v, from:e.target.value}))} required />\n            </div>\n            <div>\n              <label className=\"block text-sm mb-1\">עד תאריך</label>\n              <input type=\"date\" className=\"border rounded-xl px-3 py-2\" value={range.to} onChange={(e)=>setRange(v=>({...v, to:e.target.value}))} required />\n            </div>\n\n            {me?.permissions?.attendanceReadAll && (\n              <div>\n                <label className=\"block text-sm mb-1\">עובד</label>\n                <select className=\"border rounded-xl px-3 py-2 min-w-[220px]\"\n                        value={selectedUser} onChange={(e)=>setSelectedUser(e.target.value)}>\n                  <option value=\"\">— כלול/ה את עצמי —</option>\n                  {users.map(u=>(\n                    <option key={u._id || u.id} value={u._id || u.id}>\n                      {u.name} · {u.department || 'ללא מחלקה'}\n                    </option>\n                  ))}\n                </select>\n              </div>\n            )}\n\n            <button className=\"btn\" type=\"submit\" disabled={busy}>טען</button>\n          </form>\n\n          <div className=\"overflow-auto\">\n            <table className=\"min-w-full text-sm\">\n              <thead>\n                <tr className=\"text-left border-b\">\n                  <th className=\"py-2\">תאריך</th>\n                  <th className=\"py-2\">Clock In</th>\n                  <th className=\"py-2\">Clock Out</th>\n                  <th className=\"py-2\">רגיל</th>\n                  <th className=\"py-2\">נוספות</th>\n                  <th className=\"py-2\">סה״כ</th>\n                  {me?.permissions?.attendanceEdit && <th className=\"py-2\"></th>}\n                </tr>\n              </thead>\n              <tbody>\n                {rows.map(r=>(\n                  <tr key={r._id} className=\"border-b\">\n                    <td className=\"py-2\">{r.date}</td>\n                    <td className=\"py-2\">{r.clockIn ? new Date(r.clockIn).toLocaleTimeString() : '-'}</td>\n                    <td className=\"py-2\">{r.clockOut ? new Date(r.clockOut).toLocaleTimeString() : '-'}</td>\n                    <td className=\"py-2\">{r.regularMinutes ? fmtMin(r.regularMinutes) : '-'}</td>\n                    <td className=\"py-2\">{r.overtimeMinutes ? fmtMin(r.overtimeMinutes) : '-'}</td>\n                    <td className=\"py-2\">{r.totalMinutes ? fmtMin(r.totalMinutes) : '-'}</td>\n                    {me?.permissions?.attendanceEdit && (\n                      <td className=\"py-2\">\n                        <button className=\"px-3 py-1 rounded-xl border\" onClick={()=>openEdit(r)}>ערוך</button>\n                      </td>\n                    )}\n                  </tr>\n                ))}\n                {!rows.length && <tr><td className=\"py-4 text-slate-400\" colSpan={7}>אין נתונים לתקופה זו</td></tr>}\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        {/* היום */}\n        <div className=\"bg-white rounded-2xl shadow p-5\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <h2 className=\"text-xl font-semibold\">היום</h2>\n            <div className=\"text-xs text-slate-500\">{inShift ? 'במשמרת פעילה' : 'לא במשמרת'}</div>\n          </div>\n\n          <div className=\"flex gap-2 flex-wrap mb-4\">\n            <button className=\"btn\" disabled={busy || inShift} onClick={()=>doPost('/api/attendance/clockin','Clock In בוצע!')}>Clock In</button>\n            <button className=\"btn\" disabled={busy || !inShift} onClick={()=>doPost('/api/attendance/clockout','Clock Out בוצע!')}>Clock Out</button>\n            <button className=\"btn\" disabled={busy || !inShift || hasOpenBreak} onClick={()=>doPost('/api/attendance/break/start','הפסקה התחילה')}>Start Break</button>\n            <button className=\"btn\" disabled={busy || !inShift || !hasOpenBreak} onClick={()=>doPost('/api/attendance/break/end','הפסקה הסתיימה')}>End Break</button>\n          </div>\n\n          <div className=\"space-y-2\">\n            <div><b>Clock In:</b> {today?.clockIn ? new Date(today.clockIn).toLocaleTimeString() : '-'}</div>\n            <div><b>Clock Out:</b> {today?.clockOut ? new Date(today.clockOut).toLocaleTimeString() : '-'}</div>\n            <div><b>סה״כ:</b> {today?.totalMinutes ? fmtMin(today.totalMinutes) : '-'}</div>\n            <div><b>רגיל:</b> {today?.regularMinutes ? fmtMin(today.regularMinutes) : '-'}</div>\n            <div><b>נוספות:</b> {today?.overtimeMinutes ? fmtMin(today.overtimeMinutes) : '-'}</div>\n            <div>\n              <b>הפסקות:</b>\n              <ul className=\"list-disc pr-5\">\n                {(today?.breaks || []).map((b,i)=>(\n                  <li key={i}>{b.start?new Date(b.start).toLocaleTimeString():'-'} → {b.end?new Date(b.end).toLocaleTimeString():'—'}</li>\n                ))}\n              </ul>\n            </div>\n          </div>\n        </div>\n      </main>\n\n      <style>{`.btn{background:black;color:white;border-radius:0.75rem;padding:0.6rem 1rem}.btn[disabled]{opacity:.4;cursor:not-allowed}`}</style>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}