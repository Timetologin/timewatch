{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\timewatch-clone\\\\client\\\\src\\\\pages\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useMemo } from 'react';\nimport { api } from '../api';\nimport Toast from '../components/Toast';\nimport jsPDF from 'jspdf';\nimport 'jspdf-autotable';\nimport * as XLSX from 'xlsx';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction fmtMin(n) {\n  const h = Math.floor(n / 60);\n  const m = n % 60;\n  return `${h}ש ${m}ד`;\n}\nfunction todayISO() {\n  const d = new Date();\n  const off = d.getTimezoneOffset();\n  const z = new Date(d.getTime() - off * 60000);\n  return z.toISOString().slice(0, 10);\n}\nexport default function Dashboard() {\n  _s();\n  const [me, setMe] = useState(null);\n  const [today, setToday] = useState(null);\n  const [err, setErr] = useState('');\n  const [range, setRange] = useState({\n    from: todayISO(),\n    to: todayISO()\n  });\n  const [rows, setRows] = useState([]);\n  const [busy, setBusy] = useState(false);\n  const [toast, setToast] = useState({\n    show: false,\n    type: 'success',\n    title: '',\n    message: ''\n  });\n  const showToast = (type, title, message = '') => setToast({\n    show: true,\n    type,\n    title,\n    message\n  });\n  const closeToast = () => setToast(t => ({\n    ...t,\n    show: false\n  }));\n  const [clock, setClock] = useState(new Date());\n  useEffect(() => {\n    const t = setInterval(() => setClock(new Date()), 1000);\n    return () => clearInterval(t);\n  }, []);\n  const timeText = useMemo(() => clock.toLocaleTimeString(), [clock]);\n  useEffect(() => {\n    (async () => {\n      const m = await api('/api/auth/me');\n      setMe(m.user);\n      await refreshToday();\n      await loadReportBy(range.from, range.to);\n    })().catch(e => setErr(e.message));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  async function refreshToday() {\n    setErr('');\n    const d = todayISO();\n    const data = await api(`/api/attendance/report?from=${d}&to=${d}`);\n    setToday(data[0] || null);\n  }\n  async function doPost(path, okMsg, errMsg) {\n    if (busy) return;\n    setBusy(true);\n    setErr('');\n    try {\n      await api(path, {\n        method: 'POST'\n      });\n      await refreshToday();\n      showToast('success', okMsg);\n    } catch (e) {\n      setErr(e.message);\n      showToast('error', errMsg || e.message);\n    } finally {\n      setBusy(false);\n    }\n  }\n  async function loadReport(e) {\n    var _e$preventDefault;\n    e === null || e === void 0 ? void 0 : (_e$preventDefault = e.preventDefault) === null || _e$preventDefault === void 0 ? void 0 : _e$preventDefault.call(e);\n    await loadReportBy(range.from, range.to);\n  }\n  async function loadReportBy(from, to) {\n    setErr('');\n    try {\n      const data = await api(`/api/attendance/report?from=${from}&to=${to}`);\n      setRows(data);\n    } catch (e) {\n      setErr(e.message);\n    }\n  }\n  function logout() {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    window.location.href = '/login';\n  }\n  function exportCSV() {\n    const header = ['date', 'clockIn', 'clockOut', 'totalMinutes'];\n    const lines = [header.join(',')].concat(rows.map(r => {\n      var _r$totalMinutes;\n      return [r.date, r.clockIn ? new Date(r.clockIn).toLocaleTimeString() : '', r.clockOut ? new Date(r.clockOut).toLocaleTimeString() : '', (_r$totalMinutes = r.totalMinutes) !== null && _r$totalMinutes !== void 0 ? _r$totalMinutes : ''].join(',');\n    }));\n    const blob = new Blob([lines.join('\\n')], {\n      type: 'text/csv;charset=utf-8;'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `attendance_${range.from}_${range.to}.csv`;\n    document.body.appendChild(a);\n    a.click();\n    a.remove();\n    URL.revokeObjectURL(url);\n    showToast('success', 'CSV נוצר בהצלחה');\n  }\n  function exportXLSX() {\n    const data = rows.map(r => ({\n      Date: r.date,\n      ClockIn: r.clockIn ? new Date(r.clockIn).toLocaleTimeString() : '',\n      ClockOut: r.clockOut ? new Date(r.clockOut).toLocaleTimeString() : '',\n      Total: r.totalMinutes ? fmtMin(r.totalMinutes) : ''\n    }));\n    const ws = XLSX.utils.json_to_sheet(data);\n    const wb = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(wb, ws, 'Report');\n    XLSX.writeFile(wb, `attendance_${range.from}_${range.to}.xlsx`);\n    showToast('success', 'Excel נוצר בהצלחה');\n  }\n  function exportPDF() {\n    const doc = new jsPDF({\n      orientation: 'p',\n      unit: 'pt',\n      format: 'a4'\n    });\n    doc.setFontSize(14);\n    doc.text(`Attendance Report ${range.from} - ${range.to}`, 40, 40);\n    const table = rows.map(r => [r.date, r.clockIn ? new Date(r.clockIn).toLocaleTimeString() : '-', r.clockOut ? new Date(r.clockOut).toLocaleTimeString() : '-', r.totalMinutes ? fmtMin(r.totalMinutes) : '-']);\n    doc.autoTable({\n      head: [['Date', 'Clock In', 'Clock Out', 'Total']],\n      body: table,\n      startY: 60\n    });\n    doc.save(`attendance_${range.from}_${range.to}.pdf`);\n    showToast('success', 'PDF נשמר');\n  }\n  const inShift = !!(today !== null && today !== void 0 && today.clockIn) && !(today !== null && today !== void 0 && today.clockOut);\n  const hasOpenBreak = !!((today === null || today === void 0 ? void 0 : today.breaks) || []).find(b => b.start && !b.end);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen p-4\",\n    children: [/*#__PURE__*/_jsxDEV(Toast, {\n      show: toast.show,\n      type: toast.type,\n      title: toast.title,\n      message: toast.message,\n      onClose: closeToast\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"flex items-center justify-between mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/logo.png\",\n          alt: \"Costoro\",\n          className: \"w-10 h-10 rounded-md\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-semibold text-lg\",\n            children: [\"\\u05E9\\u05DC\\u05D5\\u05DD \", (me === null || me === void 0 ? void 0 : me.name) || '']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-slate-500\",\n            children: me === null || me === void 0 ? void 0 : me.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-3\",\n        children: [(me === null || me === void 0 ? void 0 : me.role) === 'admin' && /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/admin/users\",\n          className: \"px-3 py-2 rounded-xl bg-white border shadow text-sm\",\n          children: \"\\u05E0\\u05D9\\u05D4\\u05D5\\u05DC \\u05DE\\u05E9\\u05EA\\u05DE\\u05E9\\u05D9\\u05DD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `px-3 py-1 rounded-xl text-white text-sm ${hasOpenBreak ? 'bg-amber-500' : inShift ? 'bg-emerald-600' : 'bg-slate-400'}`,\n          children: hasOpenBreak ? 'בהפסקה' : inShift ? 'במשמרת' : 'לא במשמרת'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-3 py-1 rounded-xl bg-white shadow text-sm\",\n          children: timeText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: logout,\n          className: \"px-4 py-2 rounded-xl border bg-white hover:bg-slate-50\",\n          children: \"\\u05D4\\u05EA\\u05E0\\u05EA\\u05E7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this), err && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 text-rose-600\",\n      children: err\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"grid md:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow p-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold\",\n            children: \"\\u05D3\\u05D5\\u05D7 \\u05DC\\u05E4\\u05D9 \\u05EA\\u05D0\\u05E8\\u05D9\\u05DB\\u05D9\\u05DD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-3 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: exportCSV,\n              className: \"underline\",\n              children: \"CSV\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: exportXLSX,\n              className: \"underline\",\n              children: \"Excel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: exportPDF,\n              className: \"underline\",\n              children: \"PDF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: loadReport,\n          className: \"flex items-end gap-3 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm mb-1\",\n              children: \"\\u05DE\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              className: \"border rounded-xl px-3 py-2\",\n              value: range.from,\n              onChange: e => setRange(v => ({\n                ...v,\n                from: e.target.value\n              })),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm mb-1\",\n              children: \"\\u05E2\\u05D3 \\u05EA\\u05D0\\u05E8\\u05D9\\u05DA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              className: \"border rounded-xl px-3 py-2\",\n              value: range.to,\n              onChange: e => setRange(v => ({\n                ...v,\n                to: e.target.value\n              })),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            type: \"submit\",\n            disabled: busy,\n            children: \"\\u05D8\\u05E2\\u05DF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"min-w-full text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"text-left border-b\",\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-2\",\n                  children: \"\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-2\",\n                  children: \"Clock In\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-2\",\n                  children: \"Clock Out\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-2\",\n                  children: \"\\u05E1\\u05D4\\u05F4\\u05DB\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: [rows.map(r => /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"border-b\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2\",\n                  children: r.date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2\",\n                  children: r.clockIn ? new Date(r.clockIn).toLocaleTimeString() : '-'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2\",\n                  children: r.clockOut ? new Date(r.clockOut).toLocaleTimeString() : '-'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2\",\n                  children: r.totalMinutes ? fmtMin(r.totalMinutes) : '-'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 21\n                }, this)]\n              }, r._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 19\n              }, this)), !rows.length && /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-4 text-slate-400\",\n                  colSpan: 4,\n                  children: \"\\u05D0\\u05D9\\u05DF \\u05E0\\u05EA\\u05D5\\u05E0\\u05D9\\u05DD \\u05DC\\u05EA\\u05E7\\u05D5\\u05E4\\u05D4 \\u05D6\\u05D5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow p-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold\",\n            children: \"\\u05D4\\u05D9\\u05D5\\u05DD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-slate-500\",\n            children: inShift ? 'במשמרת פעילה' : 'לא במשמרת'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2 flex-wrap mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            disabled: busy || inShift,\n            onClick: () => doPost('/api/attendance/clockin', 'Clock In בוצע!'),\n            children: \"Clock In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            disabled: busy || !inShift,\n            onClick: () => doPost('/api/attendance/clockout', 'Clock Out בוצע!'),\n            children: \"Clock Out\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            disabled: busy || !inShift || hasOpenBreak,\n            onClick: () => doPost('/api/attendance/break/start', 'הפסקה התחילה'),\n            children: \"Start Break\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            disabled: busy || !inShift || !hasOpenBreak,\n            onClick: () => doPost('/api/attendance/break/end', 'הפסקה הסתיימה'),\n            children: \"End Break\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Clock In:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 18\n            }, this), \" \", today !== null && today !== void 0 && today.clockIn ? new Date(today.clockIn).toLocaleTimeString() : '-']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Clock Out:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 18\n            }, this), \" \", today !== null && today !== void 0 && today.clockOut ? new Date(today.clockOut).toLocaleTimeString() : '-']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"\\u05E1\\u05D4\\u05F4\\u05DB:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 18\n            }, this), \" \", today !== null && today !== void 0 && today.totalMinutes ? fmtMin(today.totalMinutes) : '-']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"\\u05D4\\u05E4\\u05E1\\u05E7\\u05D5\\u05EA:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-disc pr-5\",\n              children: ((today === null || today === void 0 ? void 0 : today.breaks) || []).map((b, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [b.start ? new Date(b.start).toLocaleTimeString() : '-', \" \\u2192 \", b.end ? new Date(b.end).toLocaleTimeString() : '—']\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `.btn{background:black;color:white;border-radius:0.75rem;padding:0.6rem 1rem}\n      .btn[disabled]{opacity:.4;cursor:not-allowed}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"mUc0W44WEicJTykVBSiVOlaR8eA=\");\n_c = Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","useMemo","api","Toast","jsPDF","XLSX","jsxDEV","_jsxDEV","fmtMin","n","h","Math","floor","m","todayISO","d","Date","off","getTimezoneOffset","z","getTime","toISOString","slice","Dashboard","_s","me","setMe","today","setToday","err","setErr","range","setRange","from","to","rows","setRows","busy","setBusy","toast","setToast","show","type","title","message","showToast","closeToast","t","clock","setClock","setInterval","clearInterval","timeText","toLocaleTimeString","user","refreshToday","loadReportBy","catch","e","data","doPost","path","okMsg","errMsg","method","loadReport","_e$preventDefault","preventDefault","call","logout","localStorage","removeItem","window","location","href","exportCSV","header","lines","join","concat","map","r","_r$totalMinutes","date","clockIn","clockOut","totalMinutes","blob","Blob","url","URL","createObjectURL","a","document","createElement","download","body","appendChild","click","remove","revokeObjectURL","exportXLSX","ClockIn","ClockOut","Total","ws","utils","json_to_sheet","wb","book_new","book_append_sheet","writeFile","exportPDF","doc","orientation","unit","format","setFontSize","text","table","autoTable","head","startY","save","inShift","hasOpenBreak","breaks","find","b","start","end","className","children","onClose","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","name","email","role","onClick","onSubmit","value","onChange","v","target","required","disabled","_id","length","colSpan","i","_c","$RefreshReg$"],"sources":["C:/Users/user/Desktop/timewatch-clone/client/src/pages/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState, useMemo } from 'react';\nimport { api } from '../api';\nimport Toast from '../components/Toast';\nimport jsPDF from 'jspdf';\nimport 'jspdf-autotable';\nimport * as XLSX from 'xlsx';\n\nfunction fmtMin(n) {\n  const h = Math.floor(n / 60);\n  const m = n % 60;\n  return `${h}ש ${m}ד`;\n}\nfunction todayISO() {\n  const d = new Date();\n  const off = d.getTimezoneOffset();\n  const z = new Date(d.getTime() - off * 60000);\n  return z.toISOString().slice(0,10);\n}\n\nexport default function Dashboard() {\n  const [me, setMe] = useState(null);\n  const [today, setToday] = useState(null);\n  const [err, setErr] = useState('');\n  const [range, setRange] = useState({ from: todayISO(), to: todayISO() });\n  const [rows, setRows] = useState([]);\n\n  const [busy, setBusy] = useState(false);\n  const [toast, setToast] = useState({ show: false, type: 'success', title: '', message: '' });\n  const showToast = (type, title, message='') => setToast({ show: true, type, title, message });\n  const closeToast = () => setToast(t => ({ ...t, show: false }));\n\n  const [clock, setClock] = useState(new Date());\n  useEffect(() => {\n    const t = setInterval(() => setClock(new Date()), 1000);\n    return () => clearInterval(t);\n  }, []);\n  const timeText = useMemo(() => clock.toLocaleTimeString(), [clock]);\n\n  useEffect(() => {\n    (async () => {\n      const m = await api('/api/auth/me');\n      setMe(m.user);\n      await refreshToday();\n      await loadReportBy(range.from, range.to);\n    })().catch(e => setErr(e.message));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  async function refreshToday() {\n    setErr('');\n    const d = todayISO();\n    const data = await api(`/api/attendance/report?from=${d}&to=${d}`);\n    setToday(data[0] || null);\n  }\n\n  async function doPost(path, okMsg, errMsg) {\n    if (busy) return;\n    setBusy(true);\n    setErr('');\n    try {\n      await api(path, { method: 'POST' });\n      await refreshToday();\n      showToast('success', okMsg);\n    } catch (e) {\n      setErr(e.message);\n      showToast('error', errMsg || e.message);\n    } finally {\n      setBusy(false);\n    }\n  }\n\n  async function loadReport(e) {\n    e?.preventDefault?.();\n    await loadReportBy(range.from, range.to);\n  }\n\n  async function loadReportBy(from, to) {\n    setErr('');\n    try {\n      const data = await api(`/api/attendance/report?from=${from}&to=${to}`);\n      setRows(data);\n    } catch (e) {\n      setErr(e.message);\n    }\n  }\n\n  function logout() {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    window.location.href = '/login';\n  }\n\n  function exportCSV() {\n    const header = ['date','clockIn','clockOut','totalMinutes'];\n    const lines = [header.join(',')].concat(\n      rows.map(r => [\n        r.date,\n        r.clockIn ? new Date(r.clockIn).toLocaleTimeString() : '',\n        r.clockOut ? new Date(r.clockOut).toLocaleTimeString() : '',\n        r.totalMinutes ?? ''\n      ].join(','))\n    );\n    const blob = new Blob([lines.join('\\n')], { type: 'text/csv;charset=utf-8;' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url; a.download = `attendance_${range.from}_${range.to}.csv`;\n    document.body.appendChild(a); a.click(); a.remove();\n    URL.revokeObjectURL(url);\n    showToast('success', 'CSV נוצר בהצלחה');\n  }\n\n  function exportXLSX() {\n    const data = rows.map(r => ({\n      Date: r.date,\n      ClockIn: r.clockIn ? new Date(r.clockIn).toLocaleTimeString() : '',\n      ClockOut: r.clockOut ? new Date(r.clockOut).toLocaleTimeString() : '',\n      Total: r.totalMinutes ? fmtMin(r.totalMinutes) : ''\n    }));\n    const ws = XLSX.utils.json_to_sheet(data);\n    const wb = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(wb, ws, 'Report');\n    XLSX.writeFile(wb, `attendance_${range.from}_${range.to}.xlsx`);\n    showToast('success', 'Excel נוצר בהצלחה');\n  }\n\n  function exportPDF() {\n    const doc = new jsPDF({ orientation: 'p', unit: 'pt', format: 'a4' });\n    doc.setFontSize(14);\n    doc.text(`Attendance Report ${range.from} - ${range.to}`, 40, 40);\n    const table = rows.map(r => [\n      r.date,\n      r.clockIn ? new Date(r.clockIn).toLocaleTimeString() : '-',\n      r.clockOut ? new Date(r.clockOut).toLocaleTimeString() : '-',\n      r.totalMinutes ? fmtMin(r.totalMinutes) : '-'\n    ]);\n    doc.autoTable({\n      head: [['Date','Clock In','Clock Out','Total']],\n      body: table,\n      startY: 60\n    });\n    doc.save(`attendance_${range.from}_${range.to}.pdf`);\n    showToast('success', 'PDF נשמר');\n  }\n\n  const inShift = !!today?.clockIn && !today?.clockOut;\n  const hasOpenBreak = !!(today?.breaks || []).find(b => b.start && !b.end);\n\n  return (\n    <div className=\"min-h-screen p-4\">\n      <Toast show={toast.show} type={toast.type} title={toast.title} message={toast.message} onClose={closeToast} />\n\n      <header className=\"flex items-center justify-between mb-6\">\n        <div className=\"flex items-center gap-3\">\n          <img src=\"/logo.png\" alt=\"Costoro\" className=\"w-10 h-10 rounded-md\" />\n          <div>\n            <div className=\"font-semibold text-lg\">שלום {me?.name || ''}</div>\n            <div className=\"text-sm text-slate-500\">{me?.email}</div>\n          </div>\n        </div>\n\n        <div className=\"flex items-center gap-3\">\n          {me?.role === 'admin' && (\n            <a href=\"/admin/users\" className=\"px-3 py-2 rounded-xl bg-white border shadow text-sm\">ניהול משתמשים</a>\n          )}\n          <div className={`px-3 py-1 rounded-xl text-white text-sm ${hasOpenBreak ? 'bg-amber-500' : inShift ? 'bg-emerald-600' : 'bg-slate-400'}`}>\n            {hasOpenBreak ? 'בהפסקה' : inShift ? 'במשמרת' : 'לא במשמרת'}\n          </div>\n          <div className=\"px-3 py-1 rounded-xl bg-white shadow text-sm\">{timeText}</div>\n          <button onClick={logout} className=\"px-4 py-2 rounded-xl border bg-white hover:bg-slate-50\">\n            התנתק\n          </button>\n        </div>\n      </header>\n\n      {err && <div className=\"mb-4 text-rose-600\">{err}</div>}\n\n      <main className=\"grid md:grid-cols-2 gap-6\">\n        {/* דוחות */}\n        <div className=\"bg-white rounded-2xl shadow p-5\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <h2 className=\"text-xl font-semibold\">דוח לפי תאריכים</h2>\n            <div className=\"flex gap-3 text-sm\">\n              <button onClick={exportCSV} className=\"underline\">CSV</button>\n              <button onClick={exportXLSX} className=\"underline\">Excel</button>\n              <button onClick={exportPDF} className=\"underline\">PDF</button>\n            </div>\n          </div>\n          <form onSubmit={loadReport} className=\"flex items-end gap-3 mb-4\">\n            <div>\n              <label className=\"block text-sm mb-1\">מתאריך</label>\n              <input type=\"date\" className=\"border rounded-xl px-3 py-2\" value={range.from} onChange={(e)=>setRange(v=>({...v, from: e.target.value}))} required />\n            </div>\n            <div>\n              <label className=\"block text-sm mb-1\">עד תאריך</label>\n              <input type=\"date\" className=\"border rounded-xl px-3 py-2\" value={range.to} onChange={(e)=>setRange(v=>({...v, to: e.target.value}))} required />\n            </div>\n            <button className=\"btn\" type=\"submit\" disabled={busy}>טען</button>\n          </form>\n\n          <div className=\"overflow-auto\">\n            <table className=\"min-w-full text-sm\">\n              <thead>\n                <tr className=\"text-left border-b\">\n                  <th className=\"py-2\">תאריך</th>\n                  <th className=\"py-2\">Clock In</th>\n                  <th className=\"py-2\">Clock Out</th>\n                  <th className=\"py-2\">סה״כ</th>\n                </tr>\n              </thead>\n              <tbody>\n                {rows.map(r => (\n                  <tr key={r._id} className=\"border-b\">\n                    <td className=\"py-2\">{r.date}</td>\n                    <td className=\"py-2\">{r.clockIn ? new Date(r.clockIn).toLocaleTimeString() : '-'}</td>\n                    <td className=\"py-2\">{r.clockOut ? new Date(r.clockOut).toLocaleTimeString() : '-'}</td>\n                    <td className=\"py-2\">{r.totalMinutes ? fmtMin(r.totalMinutes) : '-'}</td>\n                  </tr>\n                ))}\n                {!rows.length && (\n                  <tr><td className=\"py-4 text-slate-400\" colSpan={4}>אין נתונים לתקופה זו</td></tr>\n                )}\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        {/* היום */}\n        <div className=\"bg-white rounded-2xl shadow p-5\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <h2 className=\"text-xl font-semibold\">היום</h2>\n            <div className=\"text-xs text-slate-500\">{inShift ? 'במשמרת פעילה' : 'לא במשמרת'}</div>\n          </div>\n\n          <div className=\"flex gap-2 flex-wrap mb-4\">\n            <button className=\"btn\" disabled={busy || inShift} onClick={() => doPost('/api/attendance/clockin', 'Clock In בוצע!')}>\n              Clock In\n            </button>\n            <button className=\"btn\" disabled={busy || !inShift} onClick={() => doPost('/api/attendance/clockout', 'Clock Out בוצע!')}>\n              Clock Out\n            </button>\n            <button className=\"btn\" disabled={busy || !inShift || hasOpenBreak} onClick={() => doPost('/api/attendance/break/start', 'הפסקה התחילה')}>\n              Start Break\n            </button>\n            <button className=\"btn\" disabled={busy || !inShift || !hasOpenBreak} onClick={() => doPost('/api/attendance/break/end', 'הפסקה הסתיימה')}>\n              End Break\n            </button>\n          </div>\n\n          <div className=\"space-y-2\">\n            <div><b>Clock In:</b> {today?.clockIn ? new Date(today.clockIn).toLocaleTimeString() : '-'}</div>\n            <div><b>Clock Out:</b> {today?.clockOut ? new Date(today.clockOut).toLocaleTimeString() : '-'}</div>\n            <div><b>סה״כ:</b> {today?.totalMinutes ? fmtMin(today.totalMinutes) : '-'}</div>\n            <div>\n              <b>הפסקות:</b>\n              <ul className=\"list-disc pr-5\">\n                {(today?.breaks || []).map((b, i) => (\n                  <li key={i}>\n                    {b.start ? new Date(b.start).toLocaleTimeString() : '-'} → {b.end ? new Date(b.end).toLocaleTimeString() : '—'}\n                  </li>\n                ))}\n              </ul>\n            </div>\n          </div>\n        </div>\n      </main>\n\n      <style>{`.btn{background:black;color:white;border-radius:0.75rem;padding:0.6rem 1rem}\n      .btn[disabled]{opacity:.4;cursor:not-allowed}`}</style>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}